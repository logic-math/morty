Job 4 has been completed. Here's a summary of what was implemented:

**Implemented Functions in `lib/install.sh`:**

1. **`install_backup_config()`** - Backs up existing configuration before upgrade
   - Creates timestamped backup directory with version info
   - Backs up `settings.json`, `status.json`, and `.morty/` subdirectories
   - Returns backup directory path on success

2. **`install_restore_config()`** - Restores user configuration after upgrade
   - Restores backed up files to their original locations
   - Handles logs, plan, research directories
   - Reports count of restored items

3. **`install_migrate_config()`** - Migrates configuration between versions
   - Supports major version migrations (e.g., 1.x to 2.x)
   - Uses jq to merge new default fields if available
   - Updates version field in settings.json

4. **`install_check_update()`** - Checks for available updates from remote repository
   - Uses GitHub API to fetch latest release
   - Returns JSON with update availability status
   - Falls back gracefully on network errors

5. **`install_get_latest_version()`** - Gets the latest version from remote
   - Tries GitHub API first, then git ls-remote as fallback
   - Returns current version if remote check fails

6. **`install_compare_versions()`** - Already existed in the file for version comparison

<!-- RALPH_STATUS -->
{
  "module": "install",
  "job": "job_4",
  "status": "COMPLETED",
  "tasks_completed": 6,
  "tasks_total": 6,
  "loop_count": 1,
  "debug_issues": 0,
  "summary": "Successfully implemented all Job 4 tasks: install_backup_config(), install_restore_config(), install_migrate_config(), install_check_update(), install_get_latest_version(), and verified install_compare_versions(). All configuration migration and upgrade functions are now available in lib/install.sh."
}
<!-- END_RALPH_STATUS -->
